<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Hyperproduct by benwillkommen</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <link rel="stylesheet" href="stylesheets/productcontrols.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Hyperproduct</h1>
        <p>Queryable object for n-dimensional product controls</p>

        <p class="view"><a href="https://github.com/benwillkommen/hyperproduct">View the Project on GitHub <small>benwillkommen/hyperproduct</small></a></p>


        <ul>
          <li><a href="https://github.com/benwillkommen/hyperproduct/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/benwillkommen/hyperproduct/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/benwillkommen/hyperproduct">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h3>
          <a id="about" class="anchor" href="#about" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>About</h3>
          <p>This project was created to facilitate the creation of product controls in the the context of an ecommerce site, where the number and type of dimensions are not known ahead of time.</p>
          <p>A hyperproduct constructor is passed an array of variants (plain javascript objects), as well as an array of strings specifying which properties of the variants are dimensions.</p>
          <p>Once a hyperproduct is constructed, it can be queried by passing object with specified dimensions, and it will return an object representing the valid dimensions that could be selected given the query, and a variant if all necessary dimensions are specified.</p>
          <p>See tests for more examples.</p>
      </section>
      <section>
        <h3>
          <a id="about" class="anchor" href="#example" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Example</h3>
          <p>Suppose we have a product with variants like this:</p>
          <pre>
> let variants =  [
    {"size": "L", "color": "white", "id": "123"},
    {"size": "M", "color": "white", "packsize": "3", "id": "456"},
    {"size": "L", "color": "black", "packsize": "3", "id": "789"}
];
          </pre>
          <p>Observe that this product is only available in "white" for size "M". Therefore, black is an invalid option should a user choose size "M".</p>
          <p>Additionally, not every variant has all properties: variant with id "123" does not have a pack size.</p>
          <p>Hyperproduct can answer the question "given these selected dimensions, what are the available choices?", as well as handle variants with missing properties.</p>
          <p>First, we construct a hyperproduct by passing in the variants, as well as which properties of the variants are dimensions:</p>
          <pre>
> let dimensions = ["size", "color", "packsize"];
> let defaults = {"packsize": "1"};
> let hyperProduct = new HyperProduct(variants, {}, defaults);
          </pre>
          <p>With the hyperproduct instantiated, we can query it by passing an object of dimensions:</p>
          <pre>
> hyperProduct.query({"size": "M"});
{
  selectableDimensions:
  {
    color: Set { 'white' },
    packsize: Set { '3' }
  },
  selectedVariant: undefined
}
          </pre>
          <p>selectableDimensions contains only "white" for size and "3" for packsize, because those are the only valid options given that "M" is selected for size. If "L" is specified in the query, we get additional selectable dimensions:</p>
          <pre>
> hyperProduct.query({"size": "M"});
{
  selectableDimensions:
  {
    color: Set { 'white' },
    packsize: Set { '3' }
  },
  selectedVariant: undefined
}
          </pre>
          <p>If the query fully specifies a variant, the hyperproduct will return the selected variant, and no selectableDimentions:</p>
          <pre>
> hyperProduct.query({"size": "L", "color": "black", "packsize": "3"});
{
  selectableDimensions: {},
  selectedVariant:
  {
    size: 'L',
    color: 'black',
    packsize: '3',
    id: '789'
  }
}
          </pre>
      </section>
      <section>
        <h3>
          <a id="about" class="anchor" href="#demo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Demo</h3>
          <p>
            In this demo, buttons like <span class="product-control enabled">this</span> indicate a valid dimension choice, buttons like <span class="product-control disabled">this</span>
            indicate an invalid/disabled dimension choice, and buttons like <span class="product-control selected">this</span> indicate that that dimension value is selected.
          </p>
          <div data-bind="foreach: dimensions">
            <p data-bind="foreach: $data">
              <span class="product-control" data-bind="text: value, click: selectDimension, css: {disabled: !enabled(), enabled: enabled, selected: selected}"> </span>
            </p>

          </div>
          <p>As you click the buttons, you can observe the value returned from the hyperproduct instance here:</p>
          <pre data-bind="text:formattedLastQueryResults"></pre>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/benwillkommen">benwillkommen</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>

    <script src="javascripts/scale.fix.js"></script>
    <script>var module = {};</script>
    <script src="HyperProduct.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.0/knockout-min.js"></script>
    <script src="javascripts/demoViewModel.js"></script>
    <script>
      let variants =  [
          {"size": "M", "color": "red", "id": "123"},
          {"size": "L", "color": "white", "id": "1232"},
          {"size": "S", "color": "white", "id": "1233"},
          {"size": "S", "color": "black", "id": "1234"},
          {"size": "L", "color": "white", "id": "1235"},
          {"size": "M", "color": "white", "packsize": "3", "id": "456"},
          {"size": "L", "color": "black", "packsize": "3", "id": "789"}
      ];
      let dimensions = ["size", "color", "packsize"];
      let defaults = {"packsize": "1"};

      let viewModel = new demoViewModel(variants, dimensions, defaults)
      ko.applyBindings(viewModel);
    </script>
  </body>
</html>
